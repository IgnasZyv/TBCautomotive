@rendermode InteractiveServer
@page "/"
@using CarHostingWeb.Services
@using CarHostingWeb.Models
@using CarHostingWeb.Components.Shared

@inject LocalizationService Localization
@inject CarService CarService

<PageTitle>Car hosting</PageTitle>

<section class="hero ">
    <div class="hero-container pt-5">
        <div class="hero-text d-flex flex-column justify-content-center align-content-center">
            <img src="assets/Logo/Logo.webp" 
                 alt="TBC Automotive Logo" 
                 class="hero-logo rounded-2 shadow-sm fade-in-left" />

            <h1 class="hero-title fade-in-up">
                Servicio Integral de <span class="highlight">Automoción</span>
            </h1>
            <p class="hero-subtitle fade-in-up">
                Confianza, calidad y compromiso en cada vehículo.
            </p>
                
            <div class="d-flex flex-row justify-content-center align-content-center text-center cta-buttons fade-in-up">
                <a href="#listing-section" class="btn btn-primary m-2">
                    Cars In Stock
                </a>
                <a href="#contact-section" class="btn btn-secondary m-2">
                    Contact Us!
                </a>
            </div>
        </div>

        <div class="hero-image fade-in-right">
            <img src="assets/HeroSection/HeroCarIllustration.svg" 
                 alt="Car illustration" />
        </div>
    </div>
</section>

<section class="mt-3 listing-section px-3" id="listing-section">
    <SectionHeader LocalizationString="ListingHeader" IconClassString="bi bi-car-front-fill me-1 text-primary" IsTop="@false"/>
    
    <DisplayCars />
</section>

<section class="contact-section" id="contact-section">
    <SectionHeader LocalizationString="ContactUsHeader" IconClassString="bi bi-envelope me-1 text-primary" IsTop="@false"/>
    
    <div class="container">
            <div class="d-flex align-items-center justify-content-center">
                <div class="col-lg-6 mb-4 mb-lg-0">
                    <div class="d-flex align-items-center">
                        <img src="assets/Logo/Logo.webp" 
                             alt="TB C Automotive Logo" 
                             class="hero-logo rounded-2 shadow-sm fade-in-left"/>
                    </div>
                    <h3 class="fw-bold" style="color: #2c3e50;">
                        Servicio Integral de <span class="text-primary">Automoción</span>
                    </h3>
                    
                    <p class="text-muted mb-4 fs-5">
                        Trust, quality and commitment with every vehicle.
                    </p>

                    <!-- Contact Methods -->
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div class="contact-card h-100 p-3 bg-white rounded-3 shadow-sm border-start border-4 border-primary">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-telephone-fill text-primary me-3" style="font-size: 1.5rem;"></i>
                                    <div>
                                        <h6 class="fw-bold mb-1">Call Us</h6>
                                        <a href="tel:+1234567890" class="text-decoration-none text-dark">+1 (234) 567-890</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="contact-card h-100 p-3 bg-white rounded-3 shadow-sm border-start border-4 border-success">
                                <div class="d-flex align-items-center">
                                    <i class="bi bi-envelope-fill text-success me-3" style="font-size: 1.5rem;"></i>
                                    <div>
                                        <h6 class="fw-bold mb-1">Email Us</h6>
                                        <a href="mailto:info@cardealer.com" class="text-decoration-none text-dark">info@cardealer.com</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>

            </div>
        </div>
</section>


@* @code *@
@* { *@
@*     private List<Car>? AllCars { get; set; } *@
@*     private List<Car>? FilteredCars { get; set; } *@
@*     private string SearchTerm { get; set; } = string.Empty; *@
@* *@
@*     protected override async Task OnInitializedAsync() *@
@*     { *@
@*         AllCars = await CarService.GetAllCarsAsync(); *@
@*         FilteredCars = AllCars; *@
@*     } *@
@* *@
@*     private void HandleFilterChanged(string searchTerm) *@
@*     { *@
@*         SearchTerm = searchTerm; *@
@*         ApplyFilters(); *@
@*     } *@
@* *@
@*     private void ApplyFilters() *@
@*     { *@
@*         if (AllCars == null) return; *@
@* *@
@*         FilteredCars = AllCars.Where(car => *@
@*             car is { Make: not null, Model: not null } && *@
@*             ( *@
@*                 string.IsNullOrEmpty(SearchTerm) ||  *@
@*                 car.Make.Contains(SearchTerm, StringComparison.OrdinalIgnoreCase) || *@
@*                 car.Model.Contains(SearchTerm, StringComparison.OrdinalIgnoreCase) *@
@*             ) *@
@*         ).ToList(); *@
@*          *@
@*         StateHasChanged(); *@
@*     } *@


